---
description: 
globs: 
---
# Testing Changes

## E2E Flows
1. Full Upload → Process → Chatbot Query
2. Auth → Dashboard → Report Export
3. Error Simulation (Invalid files, API outages)

## Unit Tests
- 80% coverage required for:
  - Document processors
  - Embedding service
  - RLS policies

## Visual Regression
- Approved Tools: Percy + Storybook
- Track Components:
  - DataTable
  - ESG Metric Cards
  - Chart Tooltips

## Key Enhancements for Testing
- Ensure the chatbot's query functionality works after processing uploaded documents.
- Verify authentication flow and user access to dashboards and report exports.
- Simulate and test error scenarios to handle invalid file formats and API outages gracefully.
- Utilize Percy and Storybook for visual regression to ensure UI components (like DataTable and ESG Metric Cards) remain consistent across updates.
